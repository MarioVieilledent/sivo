const e=document.getElementById("a"),n=e.getContext("2d"),t=Math.PI,i=300;let l={x:0,y:0,z:0,focal:.2,angle:t/2,ux:0,uz:-1,nx:1,nz:0},o=0,a=0,c=0,s=0;function h(e){n.fillStyle=e,n.fillRect(0,0,a,o)}function d(e,t,i,l){n.fillStyle=l,n.beginPath(),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(i[0],i[1]),n.closePath(),n.fill()}function g(e,n,t){const o=l.x,a=(l.y,l.z),h=l.ux,d=l.uz,g=l.nx,r=l.nz,f=l.focal,u=e-o,z=t-a;let x=(z*h-u*d)/(r*h-g*d),v=Math.abs(h)>Math.abs(d)?(u-x*g)/h:(z-x*r)/d;return[i*(f*x/v)+s,f*n/v*-300+c]}window.addEventListener("resize",e=>{o=e.target.innerHeight,a=e.target.innerWidth,n.canvas.height=o,n.canvas.width=a,c=o/2,s=a/2,h("black");const t=g(-.5,.7,-3),i=g(.5,.6,-3),l=g(0,-.2,-3);console.log(t,i,l),d(t,i,l,"green")}),window.dispatchEvent(new Event("resize"));const r=[0,0,-2];